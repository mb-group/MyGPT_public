
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mygpt.stjude.org/development/">
      
      
        <link rel="prev" href="../installation/">
      
      
        <link rel="next" href="../FAQs/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Developer's Guide - MyGPT</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="cyan" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#developers-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MyGPT" class="md-header__button md-logo" aria-label="MyGPT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MyGPT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Developer's Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Developer's Guide

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../FAQs/" class="md-tabs__link">
        
  
  
    
  
  FAQs

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../contact/" class="md-tabs__link">
        
  
  
    
  
  Contact

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MyGPT" class="md-nav__button md-logo" aria-label="MyGPT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MyGPT
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Developer's Guide
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer's Guide
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#backend-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backend database
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-super-user" class="md-nav__link">
    <span class="md-ellipsis">
      
        create super user
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        API Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get datasets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get context
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-answer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Save answer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-question-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get question details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-conversation-history" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get conversation history
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frontend settings
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQs
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#backend-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backend database
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-super-user" class="md-nav__link">
    <span class="md-ellipsis">
      
        create super user
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        API Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get datasets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get context
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-answer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Save answer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-question-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get question details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-conversation-history" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get conversation history
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frontend settings
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="developers-guide">Developer's Guide</h1>
<h2 id="backend-database">Backend database</h2>
<p>The backend database is used to store the documents, questions, answers, and user information. The backend database is built using Django and PostgreSQL. The database can be accessed by creating a superuser and logging in to the admin panel.</p>
<h3 id="create-super-user">create super user</h3>
<p>To create super user, run following command if you are using pre-built docker images:</p>
<pre><code>cd MyGPT_public/installation/macOS/
bash create_superuser.sh
</code></pre>
<p>You can check backend database at http://localhost:8000/admin/ with username and password you created in above step.</p>
<h2 id="api-endpoints">API Endpoints</h2>
<p>These API endpoints are available for MyGPT backend server. This endpoint will be used for testing, evaluation and by the frontend to interact with the backend server.</p>
<ul>
<li><a href="#get-datasets">Get datasets</a></li>
<li><a href="#get-documents">Get documents</a></li>
<li><a href="#get-context">Get context</a></li>
<li><a href="#save-answer">Save answer</a></li>
<li><a href="#get-question-details">Get question details</a></li>
<li><a href="#get-conversation-history">Get conversation history</a></li>
<li><a href="#frontend-settings">Frontend settings</a></li>
</ul>
<h3 id="get-datasets">Get datasets</h3>
<p>This endpoint will return the list of datasets available in the backend database. The response will be in JSON format.</p>
<p>The endpoint is:</p>
<pre><code>POST /api/get_datasets/
</code></pre>
<p>The request body will be:</p>
<pre><code class="language-json">{
    &quot;user_email&quot;: &quot;abc@xyz.com&quot;,
    &quot;user_group&quot;: &quot;&quot;
}
</code></pre>
<p>The response will be:</p>
<pre><code class="language-json">{
    &quot;datasets&quot;: [
         {
            &quot;dataset_name&quot;: &quot;GPCR&quot;,
            &quot;zotero_id&quot;: &quot;-&quot;,
            &quot;dataset_size&quot;: 3366,
            &quot;user&quot;: &quot;Patel_Jaimin&quot;,
            &quot;user_email&quot;: &quot;jpatel2@stjude.org&quot;,
            &quot;user_group&quot;: &quot;user&quot;,
            &quot;embedding_added&quot;: true,
            &quot;embedding_model&quot;: &quot;multi-qa-MiniLM-L6-cos-v1&quot;,
            &quot;chunksize&quot;: 1000,
            &quot;overlap&quot;: true,
            &quot;distance_function&quot;: &quot;l2&quot;,
            &quot;direct_chat_without_docs&quot;: false,
            &quot;dataset_date_time&quot;: &quot;2024-10-19T18:58:12.267Z&quot;
        },
        {
            &quot;dataset_name&quot;: &quot;Harry_Potter_book_1&quot;,
            &quot;zotero_id&quot;: &quot;-&quot;,
            &quot;dataset_size&quot;: 680,
            &quot;user&quot;: &quot;Patel_Jaimin&quot;,
            &quot;user_email&quot;: &quot;jpatel2@stjude.org&quot;,
            &quot;user_group&quot;: &quot;user&quot;,
            &quot;embedding_added&quot;: true,
            &quot;embedding_model&quot;: &quot;multi-qa-MiniLM-L6-cos-v1&quot;,
            &quot;chunksize&quot;: 1000,
            &quot;overlap&quot;: true,
            &quot;distance_function&quot;: &quot;l2&quot;,
            &quot;direct_chat_without_docs&quot;: false,
            &quot;dataset_date_time&quot;: &quot;2024-10-19T19:15:07.298Z&quot;
        },
    ]
}
</code></pre>
<h3 id="get-documents">Get documents</h3>
<p>This endpoint will return the list of documents available for a specific dataset. The response will be in JSON format.</p>
<p>The endpoint is:
 <code>GET /api/get_documents/?dataset=IDR</code></p>
<p>The response will be:</p>
<p><code>json
    {
    "documents": [
        {
            "paper_title": "Attributes of short linear motifs",
            "paper_attachment": "papers/IDR-cosine/paper1.pdf",
            "highlighted_attachment": "-",
            "paper_dataset": 239,
            "paper_date_time": "2024-07-26T20:43:05.553Z"
        },
        {
            "paper_title": "Conditionally and Transiently Disordered Proteins- Awakening Cryptic Disorder To Regulate Protein Function",
            "paper_attachment": "papers/IDR-cosine/paper2.pdf",
            "highlighted_attachment": "-",
            "paper_dataset": 239,
            "paper_date_time": "2024-07-26T20:43:05.834Z"
        }
    ]
}</code></p>
<h3 id="get-context">Get context</h3>
<p>This endpoint will return the context (chunks) from the document to answer the user provided question. The response will be in JSON format.</p>
<p>The endpoint is:</p>
<pre><code>POST /api/get_context/
</code></pre>
<p>The request body will be:</p>
<pre><code class="language-json">{
    &quot;text&quot;: &quot;Which cohorts are available from Survivorship portal?&quot;,
    &quot;model_type&quot;: &quot;llama3:latest&quot;,
    &quot;dataset&quot;: &quot;Survivorship&quot;,
    &quot;new_conversation&quot;: true,
    &quot;related_query&quot;: false,
    &quot;previous_query&quot;: &quot;&quot;,
    &quot;no_context&quot;: false,
    &quot;use_default_qrs&quot;: true,
    &quot;question_best_distance&quot;: 0.2,
    &quot;question_worst_distance&quot;: 1.7
}
</code></pre>
<p>The response will be:</p>
<pre><code class="language-json">{
    &quot;context&quot;: &quot;ding individual survivor data for offline analysis. These features will enable on-demand access and open-ended exploration, allowing the St. Jude Survivorship Portal to serve as a valuable resource for the survivorship research community and beyond. Resul ts Overview of the Portal The St. Jude Survivorship Portal is a free, open-access data portal that hosts data from two childhood cancer survivor - ship cohorts: the SJLIFE and the CCSS (Fig. 1A; Supple- mentary Fig. S1; Supplementary Table S1). A total of 5,053 SJLIFE survivors and 2,688 CCSS survivors were included in the portal based on inclusion criteria described in “Methods.” Cohort phenotypic data consist of variables ranging from demographics, cancer diagnoses, treatments, clinical assess- ments, graded chronic health conditions, and self-reported symptoms of survivors with up to several decades of follow up (Supplementary Table S2). We have organized these data into a hierarchical data dictionary that users can easily nare avail- able through either the data dictionary or genome browser on the portal. Navigation through the St. Jude Survivorship Portal is guided by four main tabs: “COHORT,” “CHARTS,” “GROUPS,” and “FILTER” (Fig. 1B; Supplementary Tutorial). The portal begins in the “COHORT” tab where users can select either the SJLIFE cohort, CCSS cohort, or both. The “FILTER” tab can then be used to refine the cohort by one or more variables in AND/OR combinations. For example, the cohort can be restricted to those survivors who were diag-nosed with cancer before age 5 years and who were exposed to either anthracycline chemotherapy or chest radiotherapy (Fig. 1B). In the “GROUPS” tab, users can divide the cohort into custom groups for comparative analysis (e.g., exposed group vs. nonexposed group). In the “CHARTS” tab, users can launch a set of features to explore, analyze, visualize, or export the data of the cohort/groups defined by the COHORT, FILTER, and GROUPS tabs. The “data dictionarancer survivorship data. Methods Data Sources The portal hosts data generated by the SJLIFE (December 2018 data freeze; refs. 9, 10) and the CCSS (January 2020 data freeze; refs. 11, 12). Both cohorts are retrospective cohorts with prospective fol-low-up of childhood cancer survivors who have survived at least 5 years following their diagnosis. Survivors in the SJLIFE cohort were diagnosed between 1962 and 2012 and treated at St. Jude Children’s Research Hospital. Survivors in the CCSS cohort were diagnosed between 1970 and 1999 and treated at one of 31 pediatric oncology institutions in the US and Canada (Supplementary Table S1). Inclusion in the portal was determined as follows. For the SJLIFE cohort, all survivors with WGS data were included in the portal. Ad-ditionally, survivors without WGS but who visited the St. Jude cam-pus for clinical assessments were also included in the portal. For the CCSS cohort, survivors with WGS and who were not SJLIFE survivors were included in the&quot;,
    &quot;relevance_score&quot;: 61,
    &quot;sources&quot;: [
        {
            &quot;document&quot;: &quot;St. Jude Survivorship Portal&quot;,
            &quot;page&quot;: 3,
            &quot;start&quot;: &quot;&quot;,
            &quot;stop&quot;: &quot;&quot;,
            &quot;context&quot;: &quot;ding individual survivor data for offline analysis. These features will enable on-demand access and open-ended exploration, allowing the St. Jude Survivorship Portal to serve as a valuable resource for the survivorship research community and beyond. Resul ts Overview of the Portal The St. Jude Survivorship Portal is a free, open-access data portal that hosts data from two childhood cancer survivor - ship cohorts: the SJLIFE and the CCSS (Fig. 1A; Supple- mentary Fig. S1; Supplementary Table S1). A total of 5,053 SJLIFE survivors and 2,688 CCSS survivors were included in the portal based on inclusion criteria described in “Methods.” Cohort phenotypic data consist of variables ranging from demographics, cancer diagnoses, treatments, clinical assess- ments, graded chronic health conditions, and self-reported symptoms of survivors with up to several decades of follow up (Supplementary Table S2). We have organized these data into a hierarchical data dictionary that users can easily n&quot;,
            &quot;distance&quot;: 0.624
        },
        {
            &quot;document&quot;: &quot;St. Jude Survivorship Portal&quot;,
            &quot;page&quot;: 3,
            &quot;start&quot;: &quot;&quot;,
            &quot;stop&quot;: &quot;&quot;,
            &quot;context&quot;: &quot;are avail- able through either the data dictionary or genome browser on the portal. Navigation through the St. Jude Survivorship Portal is guided by four main tabs: “COHORT,” “CHARTS,” “GROUPS,” and “FILTER” (Fig. 1B; Supplementary Tutorial). The portal begins in the “COHORT” tab where users can select either the SJLIFE cohort, CCSS cohort, or both. The “FILTER” tab can then be used to refine the cohort by one or more variables in AND/OR combinations. For example, the cohort can be restricted to those survivors who were diag-nosed with cancer before age 5 years and who were exposed to either anthracycline chemotherapy or chest radiotherapy (Fig. 1B). In the “GROUPS” tab, users can divide the cohort into custom groups for comparative analysis (e.g., exposed group vs. nonexposed group). In the “CHARTS” tab, users can launch a set of features to explore, analyze, visualize, or export the data of the cohort/groups defined by the COHORT, FILTER, and GROUPS tabs. The “data dictionar&quot;,
            &quot;distance&quot;: 0.673
        },
        {
            &quot;document&quot;: &quot;St. Jude Survivorship Portal&quot;,
            &quot;page&quot;: 11,
            &quot;start&quot;: &quot;&quot;,
            &quot;stop&quot;: &quot;&quot;,
            &quot;context&quot;: &quot;ancer survivorship data. Methods Data Sources The portal hosts data generated by the SJLIFE (December 2018 data freeze; refs. 9, 10) and the CCSS (January 2020 data freeze; refs. 11, 12). Both cohorts are retrospective cohorts with prospective fol-low-up of childhood cancer survivors who have survived at least 5 years following their diagnosis. Survivors in the SJLIFE cohort were diagnosed between 1962 and 2012 and treated at St. Jude Children’s Research Hospital. Survivors in the CCSS cohort were diagnosed between 1970 and 1999 and treated at one of 31 pediatric oncology institutions in the US and Canada (Supplementary Table S1). Inclusion in the portal was determined as follows. For the SJLIFE cohort, all survivors with WGS data were included in the portal. Ad-ditionally, survivors without WGS but who visited the St. Jude cam-pus for clinical assessments were also included in the portal. For the CCSS cohort, survivors with WGS and who were not SJLIFE survivors were included in the&quot;,
            &quot;distance&quot;: 0.716
        }
    ]
}
</code></pre>
<h3 id="save-answer">Save answer</h3>
<p>This endpoint will save the answer generated by the LLM for user provided question. It will also give answer relevance score (ARS) and hallucination index (HI). The response will be in JSON format.</p>
<p>The endpoint is:</p>
<pre><code>POST /api/save_answer/
</code></pre>
<p>The request body will be:</p>
<pre><code class="language-json">{
    &quot;question_text&quot;: &quot;Which cohorts are available from Survivorship portal?&quot;,
    &quot;answer_text&quot;: &quot;According to the text, the St. Jude Survivorship Portal hosts data from two childhood cancer survivor cohorts:\n\n1. The SJLIFE (St. Jude Lifetime) cohort: This cohort includes 5,053 survivors who were diagnosed between 1962 and 2012 and treated at St. Jude Children's Research Hospital.\n2. The CCSS (Children's Oncology Group Childhood Cancer Survivor Study) cohort: This cohort includes 2,688 survivors who were diagnosed between 1970 and 1999 and treated at one of 31 pediatric oncology institutions in the US and Canada.\n\nBoth cohorts are retrospective cohorts with prospective follow-up of childhood cancer survivors who have survived at least 5 years following their diagnosis.&quot;,
    &quot;answer_no_context_text&quot;: &quot;According to the Survivorship Portal, the following cohorts are available:\n\n1. Breast Cancer Cohort: This cohort includes women diagnosed with breast cancer who have completed treatment and are seeking information on survivorship and quality of life.\n2. Colorectal Cancer Cohort: This cohort includes individuals diagnosed with colorectal cancer who have completed treatment and are looking for resources and support related to their diagnosis.\n3. Lung Cancer Cohort: This cohort includes individuals diagnosed with lung cancer who have completed treatment and are seeking information on survivorship, quality of life, and managing late effects.\n4. Ovarian Cancer Cohort: This cohort includes women diagnosed with ovarian cancer who have completed treatment and are looking for resources and support related to their diagnosis.\n\nPlease note that the availability of specific cohorts may vary depending on your location and other factors.&quot;,
    &quot;model_type&quot;: &quot;llama3:latest&quot;,
    &quot;dataset&quot;: &quot;Survivorship&quot;,
    &quot;no_context&quot;: false,
    &quot;use_default_ars&quot;: true,
    &quot;answer_best_distance&quot;: 0.12,
    &quot;answer_worst_distance&quot;: 1.42,
    &quot;use_default_hi&quot;: true,
    &quot;a_hi&quot;: 1,
    &quot;b_hi&quot;: 0.5,
    &quot;c_hi&quot;: 0.5,
    &quot;temperature&quot;: 0.4,
    &quot;top_k&quot;: 20,
    &quot;top_p&quot;: 0.7
}
</code></pre>
<p>The response will be:</p>
<pre><code class="language-json">{
    &quot;saved&quot;: true,
    &quot;mean_distance_a&quot;: 0.402,
    &quot;relevance_score&quot;: 73,
    &quot;hallucination_index&quot;: 22
}
</code></pre>
<h3 id="get-question-details">Get question details</h3>
<p>This endpoint will return the details of the question asked by the user. The response will be in JSON format.</p>
<p>The endpoint is:</p>
<pre><code>GET /api/get_question_details/?question_id=1
</code></pre>
<p>The response will be:</p>
<pre><code class="language-json">{
    &quot;question&quot;: &quot;Is MyGPT another open-source GPT model?&quot;,
    &quot;relevance_score&quot;: 66,
    &quot;ground_truth&quot;: &quot;-&quot;,
    &quot;question_type&quot;: &quot;other&quot;,
    &quot;keywords&quot;: &quot;&quot;,
    &quot;llm&quot;: &quot;llama2:latest&quot;,
    &quot;answers&quot;: [
        {
            &quot;answer&quot;: &quot;No, MyGPT is not an open-source GPT model. According to the text, MyGPT is a complete, end-to-end pipeline built with open-source tools that are small enough for local installation on a laptop/personal computer or institutional servers/VM or cloud. The text also mentions that users can download any of the additional 90+ open-source LLMs available through Ollama via a command-line interface and use them in MyGPT. This suggests that MyGPT is a platform that leverages open-source LLMs, but is not itself an open-source GPT model.&quot;,
            &quot;relevance_score&quot;: 49,
            &quot;hallucination_index&quot;: 43,
            &quot;answer_no_context&quot;: &quot;\nNo, MyGPT is not another open-source GPT (Generative Pre-trained Transformer) model. While it is built on top of the transformer architecture and uses some of the same techniques as other open-source GPT models like BERT and RoBERTa, MyGPT has its own unique features and capabilities. MyGPT is designed to be more flexible and customizable than other GPT models, allowing users to fine-tune it for specific tasks and domains. Additionally, MyGPT includes a number of innovations and improvements over traditional GPT models, such as its use of a novel attention mechanism and its ability to handle long-range dependencies.&quot;
        }
    ],
    &quot;sources&quot;: [
        {
            &quot;paper&quot;: &quot;MyGPT Manuscript&quot;,
            &quot;page&quot;: 6,
            &quot;context&quot;: &quot;Users can also download any of the additional 90+ open-source LLMs available through Ollama via a command-line interface and use them in MyGPT. Ollama’s performance depends on the available GPU, making access to GPU an essential component of running MyGPT. We tested several different model sizes to generate answers for different tasks. &quot;,
            &quot;distance&quot;: 0.702
        },
        {
            &quot;paper&quot;: &quot;MyGPT Manuscript&quot;,
            &quot;page&quot;: 13,
            &quot;context&quot;: &quot;13 Code availability All code, data, and tools are available at https://github.com/mb-group/MyGPT [This link is currently private. We have provided the source code as supplementary material for the review process. We have also provided a URL with username and password for each reviewer to the journal editor. Please contact them if you prefer to evaluate the hosted version of MyGPT]. Our code and data are licensed under GPL-3.0 license, while LLM models and LLM tools used for the project are available under the licenses of the respective sources. Author Contributions J.P. and M.M.B. conceived the MyGPT concept and the relevance metrics. J.P. and J.D. contributed equally to designing a prototype for MyGPT software. J.P. developed the MyGPT software and pipeline. B.M., V.T., and D.M. helped with multiple rounds of manual evaluation of the dataset. J.P. and J.D. performed automated evaluation with Ragas. D.M. helped with code review, S.A. &quot;,
            &quot;distance&quot;: 0.711
        },
        {
            &quot;paper&quot;: &quot;MyGPT Manuscript&quot;,
            &quot;page&quot;: 12,
            &quot;context&quot;: &quot;However, in contrast to the existing products, MyGPT is a complete, end-to-end pipeline built with open-source tools that are small enough for local installation on a laptop/personal computer or institutional servers/VM or cloud. MyGPT offers essential features — such as source surfacing, context highlighting, relevance scores, and hallucination index — while providing users complete control over their data by prioritizing privacy and customizations. We developed MyGPT to facilitate scientific research with academics in mind, but the ability to run it locally, to customize and optimize it for different use cases makes it invaluable to handle proprietary or confidential information in non-academic settings, such as hospitals, as well as for commercial and legal organizations (Figure 5B). &quot;,
            &quot;distance&quot;: 0.799
        },
        {
            &quot;paper&quot;: &quot;MyGPT Figures&quot;,
            &quot;page&quot;: 3,
            &quot;context&quot;: &quot;Figure 3: User interface for MyGPT. (A) MyGPT UI home screen. &quot;,
            &quot;distance&quot;: 0.93
        }
    ]
}
</code></pre>
<h3 id="get-conversation-history">Get conversation history</h3>
<p>This endpoint will return the conversation history of the user. The response will be in JSON format.</p>
<p>The endpoint is:</p>
<pre><code>GET /api/get_conversation_history/?dataset=GPCR
</code></pre>
<p>The response will be:</p>
<pre><code class="language-json">{
    &quot;conversations&quot;: [
        {
            &quot;conversation_id&quot;: 6664,
            &quot;questions_answers&quot;: [
                {
                    &quot;question_id&quot;: 7547,
                    &quot;question&quot;: &quot;What kind of analysis can be performed using Survivorship portal?&quot;,
                    &quot;relevance_score&quot;: 58.0
                }
            ]
        },
        {
            &quot;conversation_id&quot;: 6299,
            &quot;questions_answers&quot;: [
                {
                    &quot;question_id&quot;: 7100,
                    &quot;question&quot;: &quot;How many people participated in SJLife cohort? &quot;,
                    &quot;relevance_score&quot;: 41.0
                }
            ]
        },
    ]
}
</code></pre>
<h3 id="frontend-settings">Frontend settings</h3>
<p>This endpoint will return the frontend settings. The response will be in JSON format.</p>
<p>The endpoint is:</p>
<pre><code>GET /api/frontend_settings/
</code></pre>
<p>The response will be:</p>
<pre><code class="language-json">{
    &quot;show_no_context_switch&quot;: true,
    &quot;restriction_without_login&quot;: true,
    &quot;azure_login&quot;: true,
    &quot;django_login&quot;: false,
    &quot;disable_chat_without_login&quot;: false
}
</code></pre>
<p>Here are the details of the settings:</p>
<ul>
<li><code>show_no_context_switch</code>: If true, the user can switch between RAG vs direct chat with LLM like ChatGPT.</li>
<li><code>restriction_without_login</code>: If true, the user can't upload documents without logging in.</li>
<li><code>azure_login</code>: If true, the user can login using Azure/Microsoft single sign-on (SSO).</li>
<li><code>django_login</code>: If true, the user can login using Django authentication, which must be maintained sepretly by admin.</li>
<li><code>disable_chat_without_login</code>: If true, the user can't chat with LLM without logging in.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>